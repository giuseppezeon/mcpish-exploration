{
  "name": "vlm_assert",
  "version": "1.0.0",
  "description": "Use Vision Language Model to verify scene conditions and object states",
  "tier": "T0",
  "input_schema": {
    "type": "object",
    "properties": {
      "assertion": {"type": "string"},
      "object_id": {"type": "string"},
      "expected_state": {"type": "string"},
      "confidence_threshold": {"type": "number", "minimum": 0.1, "maximum": 1.0, "default": 0.8},
      "timeout": {"type": "integer", "minimum": 1, "maximum": 60, "default": 10}
    },
    "required": ["assertion", "object_id"]
  },
  "output_schema": {
    "type": "object",
    "properties": {
      "assertion_passed": {"type": "boolean"},
      "confidence": {"type": "number"},
      "reasoning": {"type": "string"},
      "detected_state": {"type": "string"}
    }
  },
  "preconditions": ["camera_ready", "object_visible"],
  "postconditions": ["assertion_verified"],
  "timeout_s": 15,
  "safety": {
    "max_retries": 3,
    "fallback_action": "manual_verification"
  },
  "failure_modes": [
    {
      "mode": "low_confidence",
      "mitigation": "retry_with_different_angle"
    },
    {
      "mode": "object_occluded",
      "mitigation": "move_camera_or_robot"
    },
    {
      "mode": "vlm_timeout",
      "mitigation": "use_alternative_verification"
    }
  ],
  "retry_policy": {
    "max_attempts": 3,
    "backoff_factor": 2.0
  },
  "cost_model": {
    "estimated_duration": 5,
    "energy_cost": "low"
  },
  "telemetry_schema": {
    "vlm_processing_time": "number",
    "image_quality": "number",
    "detection_confidence": "number"
  }
}
