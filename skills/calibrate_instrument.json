{
  "name": "calibrate_instrument",
  "version": "1.0.0",
  "description": "Calibrate laboratory instruments (pipettes, scales, etc.)",
  "tier": "T2",
  "input_schema": {
    "type": "object",
    "properties": {
      "instrument_id": {"type": "string"},
      "instrument_type": {
        "type": "string",
        "enum": ["pipette", "scale", "thermometer", "ph_meter", "spectrophotometer"]
      },
      "calibration_standard": {"type": "string"},
      "calibration_points": {
        "type": "array",
        "items": {"type": "number"}
      },
      "tolerance": {"type": "number", "minimum": 0.001, "maximum": 0.1, "default": 0.01},
      "environmental_conditions": {
        "type": "object",
        "properties": {
          "temperature": {"type": "number"},
          "humidity": {"type": "number"},
          "pressure": {"type": "number"}
        }
      }
    },
    "required": ["instrument_id", "instrument_type", "calibration_standard"]
  },
  "output_schema": {
    "type": "object",
    "properties": {
      "success": {"type": "boolean"},
      "calibration_accuracy": {"type": "number"},
      "drift_detected": {"type": "boolean"},
      "calibration_certificate": {"type": "string"}
    }
  },
  "preconditions": ["instrument_ready", "standards_available", "environment_stable"],
  "postconditions": ["instrument_calibrated", "accuracy_verified"],
  "invariants": ["environmental_control", "standard_integrity"],
  "timeout_s": 600,
  "safety": {
    "standard_protection": true,
    "environmental_monitoring": true,
    "calibration_traceability": true
  },
  "failure_modes": [
    {
      "mode": "standard_contaminated",
      "mitigation": "replace_standard"
    },
    {
      "mode": "environmental_drift",
      "mitigation": "stabilize_and_retry"
    },
    {
      "mode": "instrument_drift",
      "mitigation": "adjust_and_recalibrate"
    }
  ],
  "retry_policy": {
    "max_attempts": 2,
    "backoff_factor": 2.0
  },
  "cost_model": {
    "estimated_duration": 300,
    "energy_cost": "medium"
  }
}
